name: "Page Generator Action"
description: "Generates pages and deploys them."
inputs:
  bucket-name:
    description: "The name of the bucket to use."
    required: true
  config:
    description: "Configuration JSON string."
    required: true
runs:
  using: "composite"
  steps:
    - name: Run Page Generator
      shell: bash
      env:
        ACCESS_KEY: ${{ secrets.ACCESS_KEY }}
        SECRET_ACCESS_KEY: ${{ secrets.SECRET_ACCESS_KEY }}
      run: |
        echo "Running page generator..."
        CONFIG=${{ inputs.config }}
        BUCKET_NAME=${{ inputs.bucket-name }}
        bash ./scripts/generate-site.sh "$BUCKET_NAME" "$CONFIG"
